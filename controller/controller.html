<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Game Controller</title>
    <link rel='stylesheet' href='controller/css/controller_styles.css'>
    <link rel='stylesheet' href='../games/snake/css/snake_styles.css'>
  </head>
  <body>
<div class='module' id='controllers'>

    <h1>hello controller</h1>
    <h3>Current Speed is: <span id = 'speed'></span></h3>
    <input type="range" id="variable1" min="100 "max="500" step="10"  value="250" />
  </div>
  <div class='module' id='screenCast'>
    <div id='board' style='height:250px;width:250px;border:1px solid black;'>

    </div>

  </div>

    <script src='/socket.io/socket.io.js'></script>
    <script src="http://code.jquery.com/jquery-1.12.0.min.js"></script>
    <script src="../games/snake/src/main.js"></script>
    <script src='../games/snake/src/Head.js'></script>
    <script src='../games/snake/src/Body.js'></script>
    <script src='../games/snake/src/Apple.js'></script>
    <script>
    var socket = io('/hi');
    // console.log($('#gameboard'));
    $('#variable1').on('change', function(e){
      var value = e.target.value;
      socket.emit('changeVariable', value )
      console.log('emitted: ', value);
      $('#speed').text(e.target.value)
    })


    //
    // socket.on('mutation', mutation => {
    //   console.log(mutation.type === 'add');
    //   if(mutation.type === 'add'){
    //     console.log(mutation);
    //     console.log(mutation.parentId);
    //     var re = /\d*\.*\d+px/g
    //     var arr = mutation.node.match(re)
    //     console.log(arr);
    //     console.log($('#'+mutation.parentId).append(mutation.node));
    //   } else if(mutation.type === 'change') {
    //     console.log(mutation);
    //     var cssObj = {};
    //     cssObj[mutation.change.attr] = mutation.change.value;
    //     $('#'+mutation.id).css(cssObj)
    //   } else if(mutation.type === 'remove') {
    //     $(mutation.node).remove();
    //   }
    // })

    </script>

  </body>
</html>
